#+TITLE:     provorg
#+AUTHOR:    shergill
#+EMAIL:     suhailshergill@gmail.com
#+DATE:      2013-03-31 Sun
#+DESCRIPTION: emacs' org-mode based provisioning system
#+KEYWORDS: provisioning,emacs,elisp,org-mode
#+LANGUAGE:  en
#+OPTIONS:   H:3 num:t toc:t \n:nil @:t ::t |:t ^:t -:t f:t *:t <:t
#+OPTIONS:   TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil tags:not-in-toc
#+INFOJS_OPT: view:nil toc:nil ltoc:t mouse:underline buttons:0 path:http://orgmode.org/org-info.js
#+EXPORT_SELECT_TAGS: export
#+EXPORT_EXCLUDE_TAGS: noexport
#+LINK_UP:   
#+LINK_HOME: 
#+XSLT:
* DESCRIPTION
  provorg is going to be a push-based provisioning system (think [[http://www.nico.schottelius.org/software/cdist/][cdist]], but
  based off of emacs' [[http://orgmode.org/][org-mode]]).

  requirements:
  - working emacs + org-mode
  - ssh + sudo access to hosts (cf. cdist, which requires you to have ssh
    access to root)

  basic idea:
  - [ ] map physical hosts to capabilities
  - [ ] perhaps have some notion of types to group together capabilities
* HMM use async for sudo actions                                      :async:
  - [[http://www.gnu.org/software/tramp/#Password-handling][cache tramp passwords]]?
   
  - State "HMM"       from "TODO"       [2013-04-01 Mon 17:29] \\
    maybe this won't be needed after all? basically do all the heavy lifting using
    passwordless stuff w/ async (which basically means no `sudo' action), and then
    perform the sudo actions in the running emacs instance (which shouldn't be too
    bad since all the heavy lifting has been done)

   - State "TODO"       from ""           [2013-04-01 Mon 17:26] \\

   :PROPERTIES:
   :CUSTOM_ID: 67148f4e-4dc3-4c2f-bdac-f73c3cc8634b
   :END:
* DONE use [[https://github.com/jwiegley/emacs-async][async.el]] to execute (heavy) code blocks                    :async:
  CLOSED: [2013-04-01 Mon 17:27]

  - State "DONE"       from "TODO"       [2013-04-01 Mon 17:27] \\
    using `su/advice/ob/org-babel-execute-src-block/around/async'

  - State "TODO"       from ""           [2013-04-01 Mon 17:24] \\

  :PROPERTIES:
  :CUSTOM_ID: 80f01437-012e-4fc0-9c2e-b658fecc75d5
  :END:
* DONE ensure remote code execution works                            :bugfix:
  CLOSED: [2013-03-31 Sun 14:11]
  - State "DONE"       from "TODO"       [2013-03-31 Sun 14:11] \\
    Fixed by [[https://gist.github.com/suhailshergill/5233313][patch]]
  
  - State "TODO"       from ""           [2013-03-31 Sun 14:10] \\

  :PROPERTIES:
  :CUSTOM_ID: 8b6dd7bf-8ee7-4e61-be13-ab5cb3012b6c
  :END:
* DONE set host dynamically
  CLOSED: [2013-03-31 Sun 14:35]
  - State "DONE"       from "TODO"       [2013-03-31 Sun 14:35]
  
  - State "TODO"       from ""           [2013-03-31 Sun 14:08] \\

  :PROPERTIES:
  :CUSTOM_ID: a14252fd-dd46-413c-8219-1139558f38c1
  :END:
